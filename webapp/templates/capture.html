{% extends 'layout.html' %}

{% block body %}
    <br></br>
    
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <img src="{{ url_for('video_feed') }}" width="640" height="480">
            </div>
        </div>
    </div>
    
    {% if img_data %}
        <table style="border: 5px solid #ccc; border-collapse: collapse; margin: 0 auto;">
            <tr>
                <td>
                    <div class="container">
                        <br />
                        <table>
                            <tr>
                                <td>
                                    <img src="{{ url_for('static', filename='capture/' + filename) }}" alt="">
                                </td>
                                <td>
                                    <img src="{{ url_for('static', filename='predict/' + filename) }}" alt="">
                                </td>
                            </tr>
                        </table>
                        <br />
                        <table style="background-color: white; border: solid black; width: 100%">
                            <tr style="text-align: center; border: solid black">
                                <th>ROI dari gambar</th>
                                <th>Hasil bacaan</th>
                            </tr>
                            <tr style="border: solid black">
                                <td style="text-align: center; background-color:white">
                                    <img src="{{ url_for('static', filename='roi/' + filename) }}" alt="">
                                </td>
                                <td style="text-align: center; background-color: white">
                                    <h1 class="display-8">{{ text }}</h1>
                                </td>
                            </tr>
                        </table>
                        <div class="container pt-4 pb-4">
                            <div class="row justify-content-center">
                                <div class="col-md-8">
                                    <table class="mx-auto">
                                        <tr>
                                            <td class="text-center">
                                                <img src="{{ url_for('static', filename='result/' + filename) }}" alt="">
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </table>
        <br>
        <div style="display: flex; justify-content: center;">
            <form method="POST" action="/capture">
                <input type="submit" value="Capture Image" class="btn btn-dark" style="display: block; margin: 0 auto; margin-top: 10px;" id="captureButton">
            </form>
        </div>
    {% else %}
        <form method="POST" action="/capture">
            <input type="submit" value="Capture Image" class="btn btn-dark" style="display: block; margin: 0 auto; margin-top: 10px;" id="captureButton">
        </form>
    {% endif %}
  
{% endblock %}
